---
# tasks file for sample-roles
# This file is used to define tasks for the sample-roles project.
  - name: Install apache2 on debian based systems
    apt:
      name: "{{ ubuntu_pkg }}"
      state: present
      update_cache: yes
    when: ansible_os_family == "Debian"
    notify: start apache2

  - name: install httpd on rehat based systems
    yum:
      name: "{{ ec2_pkg }}"
      state: present
    when: ansible_os_family == "RedHat"
    notify: start httpd
  
  - name: Edit index.html file on apache2
    copy:
      dest: /var/www/html/index.html
      content: "<h1>Hello, this is {{ inventory_hostname }}</h1>"
    notify: restart apache2
    when: ansible_os_family == "Debian"

  - name: Edit index.html file on httpd
    copy:
      content: "<h1>Hello, this is {{ inventory_hostname }}</h1>"
      dest: /var/www/html/index.html
    notify: 
      - restart httpd
    when: ansible_os_family == "RedHat"
